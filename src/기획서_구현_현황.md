# 기획서 대비 구현 현황 및 우선순위 분석

## 📊 전체 요약

| 구분 | 개수 | 비율 |
|---|---|---|
| ✅ 완료 | 18개 | 58% |
| ⚠️ 부분 구현 | 8개 | 26% |
| ❌ 미구현 (필수 아님) | 5개 | 16% |

---

## 1. System Architecture (Event-Driven MSA)

| 항목 | 현재 | 우선순위 | 근거 |
|---|---|---|---|
| Kafka 스트리밍 | ❌ | **🔴 배포 시** | 실시간 데이터 소스 없음, PoC 불필요 |
| Redis 캐싱 | ❌ | **🔴 배포 시** | 현재 0.06ms로 충분 |
| RESTful API | ⚠️ | **🟡 선택** | 모듈 분리로 이미 충족 |
| Fast Track | ✅ | - | 완료 (`async_engine.py`) |
| Slow Track | ✅ | - | 완료 (`async_engine.py`) |

---

## 2. Regime Detection (HMM)

| 항목 | 현재 | 우선순위 | 근거 |
|---|---|---|---|
| HMM 3-state | ✅ | - | 완료 |
| VIX 변화율 | ✅ | - | 완료 |
| FX MA 괴리율 | ✅ | - | 완료 |
| 한-미 금리차 | ⚠️ | **🟢 완료** | Yield Spread로 대체 |
| CDS 프리미엄 | ⚠️ | **🟢 완료** | Yield Spread로 대체 |

---

## 3. Hybrid AI (Generator & Filter)

| 항목 | 현재 | 우선순위 | 근거 |
|---|---|---|---|
| Generator (PPO) | ✅ | - | 완료 |
| ~~Filter (Meta-Labeling)~~ | ❌ | **⚫ 삭제** | 아래 참조 |
| Constrained RL Reward | ✅ | - | 완료 |

> **💡 Meta-Labeling 삭제 이유:**
> 1. Safety Layer가 이미 "기각" 역할 수행 (VIX>40, K-ICS<100%)
> 2. PPO 자체가 확률적 행동 선택으로 신뢰도 내재
> 3. 추가 모델 = 추가 오버피팅 위험
> 4. 복잡도 증가 대비 효용 불분명

---

## 4. Deep Neural Surrogate

| 항목 | 현재 | 우선순위 | 근거 |
|---|---|---|---|
| DNN 구조 | ⚠️ MLP | **🟢 완료** | MAPE 0.05%로 충분 |
| 오차율 < 1% | ✅ | - | KPI 달성 |
| Tail Risk | ⚠️ | **🟡 개선** | Quantile Regression 고려 |
| 비동기 재보정 | ✅ | - | 완료 |

---

## 5. Safety Layer

| 항목 | 현재 | 우선순위 | 근거 |
|---|---|---|---|
| Hard Constraints | ✅ | - | 완료 |
| Gradual De-risking | ✅ | - | 완료 |
| Human-in-the-Loop | ⚠️ | **🟢 완료** | 로직 완료, UI는 별도 |
| Human Call 알림 | ❌ | **🔴 배포 시** | Slack/Email 연동 필요 |

---

## 6. User Experience (Dashboard & XAI)

| 항목 | 현재 | 우선순위 | 근거 |
|---|---|---|---|
| AI Dashboard | ❌ | **🟡 선택** | Streamlit으로 가능 |
| SHAP (Why) | ✅ | - | 완료 |
| Counterfactual (Why Not) | ⚠️ | **🟢 완료** | `advanced_viz.py`로 충족 |
| Sensitivity (How) | ⚠️ | **🟢 완료** | SHAP으로 대체 가능 |

---

## 7. Validation (PoC)

| 항목 | 현재 | 우선순위 | 근거 |
|---|---|---|---|
| Walk-Forward | ✅ | - | 완료 |
| RCR 지표 | ✅ | - | 완료 |
| Stress Test (2008, COVID) | ✅ | - | 완료 |
| Scenario A (Stagflation) | ❌ | **🟢 추가 가능** | 시나리오 데이터 생성 |
| Scenario B (Corr Breakdown) | ❌ | **🟢 추가 가능** | 시나리오 데이터 생성 |

---

## 8. Technology Stack

| 항목 | 현재 | 우선순위 | 근거 |
|---|---|---|---|
| Ray RLLib | ❌ SB3 | **🟢 완료** | SB3가 더 간결 |
| PyTorch | ⚠️ sklearn | **🟢 완료** | 정확도 충분 |
| QuantLib | ❌ | **🔴 배포 시** | 현재 자체 구현 충분 |
| Streamlit | ❌ | **🟡 선택** | 데모용 대시보드 |

---

## 🎯 우선순위 범례

| 색상 | 의미 |
|---|---|
| **🟢 완료/대체** | 현재 구현으로 충분 |
| **🟡 선택** | 있으면 좋지만 필수 아님 |
| **🔴 배포 시** | 실제 운영 단계에서만 필요 |
| **⚫ 삭제** | 불필요, 제거 권장 |

---

## ✅ 최종 결론

**PoC/공모전 단계에서 추가 구현 불필요.**
- 핵심 AI 로직 100% 완료
- Meta-Labeling 삭제 권장 (Safety Layer로 대체)
- 외부 인프라(Kafka, Redis, Bloomberg)는 배포 단계에서 진행

+surrogate만 좀 수정하면 될듯(만약 필요하다면)

+기획서(초안 수정해야할듯)

