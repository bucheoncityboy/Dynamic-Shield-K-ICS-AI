# Dynamic Shield v3.0 - ì™„ì „ ì‹¤í–‰ ê°€ì´ë“œ

## ğŸ“¦ ì´ˆê¸° ì„¤ì • (ìµœì´ˆ 1íšŒë§Œ)

### 1. í”„ë¡œì íŠ¸ í´ë¡ /ë‹¤ìš´ë¡œë“œ
```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™ (ë³¸ì¸ì˜ í”„ë¡œì íŠ¸ ê²½ë¡œì— ë§ê²Œ ìˆ˜ì •)
cd /path/to/Dynamic-Shield-K-ICS-AI
```

### 2. Python í™˜ê²½ ì„¤ì •

#### ì˜µì…˜ A: Conda ì‚¬ìš© (ê¶Œì¥)
```bash
# Conda í™˜ê²½ ìƒì„± (Python 3.11 ê¶Œì¥)
conda create -n dynamic_shield python=3.11 -y
conda activate dynamic_shield

# PyTorch ì„¤ì¹˜ (CPU ë²„ì „)
conda install pytorch torchvision torchaudio cpuonly -c pytorch -y

# ë‚˜ë¨¸ì§€ ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

#### ì˜µì…˜ B: venv ì‚¬ìš©
```bash
# Python 3.9 ì´ìƒ í•„ìš”
python3 --version  # í™•ì¸

# ê°€ìƒí™˜ê²½ ìƒì„±
python3 -m venv venv

# ê°€ìƒí™˜ê²½ í™œì„±í™”
# macOS/Linux:
source venv/bin/activate
# Windows:
# venv\Scripts\activate

# PyTorch ì„¤ì¹˜ (CPU ë²„ì „)
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu

# ë‚˜ë¨¸ì§€ ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### 3. ì„¤ì¹˜ í™•ì¸
```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ
cd src
python -c "import torch; import stable_baselines3; print('âœ“ ì„¤ì¹˜ ì™„ë£Œ')"
```

---

## ğŸš€ ì‹¤í–‰ ì¤€ë¹„

```bash
# ê°€ìƒí™˜ê²½ í™œì„±í™” (ë§¤ë²ˆ ì‹¤í–‰ ì „)
conda activate dynamic_shield  # ë˜ëŠ” source venv/bin/activate

# í”„ë¡œì íŠ¸ src ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd src
```

---

## ì „ì²´ ì‹¤í–‰ ìˆœì„œ (A to Z)

### Step 1: K-ICS ì—”ì§„ í…ŒìŠ¤íŠ¸
```bash
# í˜„ì¬ ìœ„ì¹˜: src ë””ë ‰í† ë¦¬
# K-ICS ì—”ì§„ (Ground Truth)
python core/kics_real.py

# AI Surrogate ëª¨ë¸ í•™ìŠµ
python core/kics_surrogate.py
```

### Step 2: ì‹œì¥ ë°ì´í„° ë° Regime íƒì§€
```bash
# í˜„ì¬ ìœ„ì¹˜: src ë””ë ‰í† ë¦¬
# Regime íƒì§€ (HMM)
python core/regime.py

# í•˜ì´ë¸Œë¦¬ë“œ ì‹œë‚˜ë¦¬ì˜¤ (TimeGAN)
python core/hybrid_scenarios.py

# TimeGAN ëª¨ë¸ í™•ì¸ (ì„ íƒ) - í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰
cd ..
python check_timegan_model.py
cd src

# TimeGAN ëª¨ë¸ ì‚¬ìš© ì˜ˆì‹œ (ì„ íƒ) - í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰
cd ..
python use_timegan_model.py
cd src
```

### Step 3: RL í™˜ê²½ ë° ì—ì´ì „íŠ¸
```bash
# RL í™˜ê²½ í…ŒìŠ¤íŠ¸
python core/gym_environment.py

# ì—ì´ì „íŠ¸ (Safety Layer í¬í•¨)
python core/agent.py
```

### Step 4: PPO í•™ìŠµ
```bash
# PPO í•™ìŠµ (main.py ì‚¬ìš© ê¶Œì¥)
python main.py --mode train --timesteps 50000
```

### Step 5: ê²€ì¦ ë° ë¶„ì„
```bash
# ì‹œìŠ¤í…œ ê²€ì¦ (Surrogate, Latency, Safety)
python main.py --mode validate

# ë˜ëŠ” ìƒì„¸ ê²€ì¦
python validation/system_validation.py

# Risk Paradox ì¦ëª…
python validation/proof_risk_paradox.py

# SHAP ë¶„ì„
python validation/shap_analysis.py

# Efficient Frontier & ì‹œê°í™”
python validation/advanced_viz.py

# ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸ (Safety Layer VIX ì£¼ì…)
python validation/stress_safety.py

# COVID-19 Solvency ë¶„ì„
python validation/solvency_visualizer.py
```

### Step 6: ë°±í…ŒìŠ¤íŠ¸
```bash
# ì „ëµ ë¹„êµ ë°±í…ŒìŠ¤íŠ¸
python main.py --mode backtest

# Walk-Forward ë¶„ì„ (Jupyter ê¶Œì¥)
python -c "
from validation.backtest import BacktestEngine, load_real_market_data
engine = BacktestEngine()
data = load_real_market_data()
engine.run_walk_forward(data)
"
```

### Step 7: ì‹¤ì‹œê°„ ëª¨ë“œ
```bash
# ê°œë³„ ëª¨ë“ˆ í…ŒìŠ¤íŠ¸
python safety/risk_control.py
python realtime/latency.py
python realtime/async_engine.py
python realtime/intraday.py
python realtime/live_mode.py --interval 2 --steps 20

# ì‹¤ì‹œê°„ ìš´ì˜ ëª¨ë“œ (Ctrl+C ì¢…ë£Œ)
python main.py --mode live --interval 2
```

### Step 8: ìµœì¢… ê²€í† 
```bash
# Phase 6 ìµœì¢… ê²€í†  ìŠ¤í¬ë¦½íŠ¸
python phase6_final_review.py
```

### Step 9: ìš´ì˜ ëŒ€ì‹œë³´ë“œ
```bash
# Streamlit ì„¤ì¹˜ (ìµœì´ˆ 1íšŒ)
pip install streamlit plotly

# ëŒ€ì‹œë³´ë“œ ì‹¤í–‰
streamlit run dashboard/operations_dashboard.py
```

**ì ‘ì† ì£¼ì†Œ**: http://localhost:8501

**ì‚¬ìš©ë²•**:
1. ì‚¬ì´ë“œë°”ì—ì„œ `â–¶ï¸ Start` í´ë¦­ â†’ ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘
2. `Scenario` ë³€ê²½: Normal / Volatile / Crisis
3. `VIX Injection`ìœ¼ë¡œ ìˆ˜ë™ VIX ì£¼ì… í…ŒìŠ¤íŠ¸
4. `ğŸ”„ Reset`ìœ¼ë¡œ ì´ˆê¸°í™”

---

## íŒŒì¼ ëª©ë¡ (ì „ì²´)

### core/ (í•µì‹¬ ì—”ì§„)
| íŒŒì¼ | ì—­í•  |
|---|---|
| `kics_real.py` | K-ICS ë¹„ìœ¨ ê³„ì‚° ì—”ì§„ |
| `kics_surrogate.py` | AI Surrogate ëª¨ë¸ |
| `regime.py` | HMM ì‹œì¥ êµ­ë©´ íƒì§€ |
| `system.py` | í†µí•© ì‹œë®¬ë ˆì´ì…˜ í™˜ê²½ |
| `environment.py` | RL í™˜ê²½ (ë ˆê±°ì‹œ) |
| `gym_environment.py` | RL Gym í™˜ê²½ |
| `agent.py` | RL ì—ì´ì „íŠ¸ + Safety Layer |
| `rl_trainer.py` | RL í•™ìŠµê¸° (ë ˆê±°ì‹œ) |
| `ppo_trainer.py` | PPO í•™ìŠµê¸° |
| `hybrid_scenarios.py` | TimeGAN í•˜ì´ë¸Œë¦¬ë“œ ì‹œë‚˜ë¦¬ì˜¤ |
| `realistic_data.py` | ì‹¤ì œ ë°ì´í„° ë¡œë” |
| `config_loader.py` | YAML ì„¤ì • ë¡œë” |

### safety/ (ì‹ ê·œ)
| íŒŒì¼ | ì—­í•  |
|---|---|
| `risk_control.py` | ë…ë¦½ Safety Layer ëª¨ë“ˆ |

### realtime/ (ì‹ ê·œ)
| íŒŒì¼ | ì—­í•  |
|---|---|
| `latency.py` | ì§€ì—°ì‹œê°„ ì¸¡ì • |
| `async_engine.py` | ë¹„ë™ê¸° ì¶”ë¡ /í•™ìŠµ |
| `intraday.py` | ì¥ì¤‘ í”¼ì²˜ ì¶”ì • |
| `live_mode.py` | ì‹¤ì‹œê°„ ìš´ì˜ ë£¨í”„ |

### validation/
| íŒŒì¼ | ì—­í•  |
|---|---|
| `backtest.py` | ë°±í…ŒìŠ¤íŠ¸ + Walk-Forward |
| `system_validation.py` | í†µí•© ì‹œìŠ¤í…œ ê²€ì¦ |
| `proof_risk_paradox.py` | Risk Paradox ì¦ëª… |
| `shap_analysis.py` | SHAP ë¶„ì„ |
| `advanced_viz.py` | Efficient Frontier |
| `stress_safety.py` | Safety Layer ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸ |
| `solvency_visualizer.py` | COVID-19 Solvency ë¶„ì„ |

### dashboard/ (ì‹ ê·œ)
| íŒŒì¼ | ì—­í•  |
|---|---|
| `operations_dashboard.py` | ìš´ì˜ ëŒ€ì‹œë³´ë“œ (Streamlit) |

### ë£¨íŠ¸
| íŒŒì¼ | ì—­í•  |
|---|---|
| `main.py` | CLI ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ |
| `phase6_final_review.py` | ìµœì¢… ê²€í†  ìŠ¤í¬ë¦½íŠ¸ |
| `colab_timegan_training.py` | TimeGAN í•™ìŠµ (Colab) |
| `colab_use_timegan.py` | TimeGAN ì‚¬ìš© ì˜ˆì‹œ (Colab) |
| `use_timegan_model.py` | TimeGAN ëª¨ë¸ ì‚¬ìš© (ë¡œì»¬) |
| `check_timegan_model.py` | TimeGAN ëª¨ë¸ í™•ì¸ |

### ì €ì¥ëœ ëª¨ë¸
| í´ë” | ë‚´ìš© |
|---|---|
| `timegan_model/` | í•™ìŠµëœ TimeGAN ëª¨ë¸ |
| `models/` | ê¸°íƒ€ ëª¨ë¸ íŒŒì¼ |

---

## ê°„í¸ ì‹¤í–‰ (ê¶Œì¥)

```bash
python main.py --mode all    # ê²€ì¦ â†’ í•™ìŠµ â†’ ë°±í…ŒìŠ¤íŠ¸ ìë™
python main.py --mode live   # ì‹¤ì‹œê°„ í…ŒìŠ¤íŠ¸ (Ctrl+C ì¢…ë£Œ)
```
